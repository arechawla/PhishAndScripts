//Utilize markov chains and probability matrices to identify potential phising
//scams

var rawText = "";
var probOne = 0; //Value after letter combos are multiplied by corresponding frequency of countMatrix
var probTwo = 0; //Value after letter combos are multiplied by corresponding frequency of countMatrix2



var countMatrix = [
    [0.005434782608695652, 0.010869565217391304, 0.07065217391304347, 0.04891304347826087, 0.01, 0.005434782608695652, 0.03260869565217391, 0.01, 0.03260869565217391, 0.005434782608695652, 0.005434782608695652, 0.09239130434782608, 0.021739130434782608, 0.20108695652173914, 0.01, 0.01, 0.021739130434782608, 0.11413043478260869, 0.08152173913043478, 0.15760869565217392, 0.010869565217391304, 0.02717391304347826, 0.005434782608695652, 0.01, 0.04891304347826087, 0.01],
    [0.0967741935483871, 0.01, 0.01, 0.01, 0.22580645161290322, 0.01, 0.01, 0.01, 0.0967741935483871, 0.01, 0.01, 0.06451612903225806, 0.01, 0.01, 0.1935483870967742, 0.01, 0.01, 0.0967741935483871, 0.01, 0.01, 0.12903225806451613, 0.01, 0.01, 0.01, 0.0967741935483871, 0.01],
    [0.0851063829787234, 0.01, 0.01, 0.01, 0.13829787234042554, 0.01, 0.01, 0.1595744680851064, 0.10638297872340426, 0.01, 0.05319148936170213, 0.02127659574468085, 0.01, 0.01, 0.18085106382978725, 0.01, 0.01, 0.05319148936170213, 0.0425531914893617, 0.0851063829787234, 0.05319148936170213, 0.01, 0.01, 0.01, 0.02127659574468085, 0.01],
    [0.09090909090909091, 0.045454545454545456, 0.011363636363636364, 0.03409090909090909, 0.2159090909090909, 0.01, 0.03409090909090909, 0.011363636363636364, 0.06818181818181818, 0.01, 0.011363636363636364, 0.03409090909090909, 0.022727272727272728, 0.01, 0.056818181818181816, 0.011363636363636364, 0.01, 0.045454545454545456, 0.056818181818181816, 0.14772727272727273, 0.056818181818181816, 0.01, 0.022727272727272728, 0.01, 0.022727272727272728, 0.01],
    [0.07166123778501629, 0.009771986970684038, 0.07166123778501629, 0.09120521172638436, 0.03257328990228013, 0.016286644951140065, 0.003257328990228013, 0.006514657980456026, 0.04560260586319218, 0.01, 0.003257328990228013, 0.04560260586319218, 0.03257328990228013, 0.1237785016286645, 0.03257328990228013, 0.029315960912052116, 0.016286644951140065, 0.13355048859934854, 0.13029315960912052, 0.035830618892508145, 0.003257328990228013, 0.019543973941368076, 0.03257328990228013, 0.009771986970684038, 0.003257328990228013, 0.01],
    [0.02564102564102564, 0.01, 0.01, 0.01, 0.07692307692307693, 0.02564102564102564, 0.01, 0.01, 0.15384615384615385, 0.01, 0.02564102564102564, 0.01, 0.05128205128205128, 0.02564102564102564, 0.3076923076923077, 0.02564102564102564, 0.01, 0.07692307692307693, 0.02564102564102564, 0.15384615384615385, 0.01, 0.01, 0.01, 0.01, 0.02564102564102564, 0.01],
    [0.08928571428571429, 0.017857142857142856, 0.01, 0.01, 0.26785714285714285, 0.03571428571428571, 0.017857142857142856, 0.08928571428571429, 0.05357142857142857, 0.01, 0.01, 0.01, 0.017857142857142856, 0.05357142857142857, 0.10714285714285714, 0.017857142857142856, 0.01, 0.07142857142857142, 0.03571428571428571, 0.03571428571428571, 0.07142857142857142, 0.01, 0.01, 0.01, 0.017857142857142856, 0.01],
    [0.18018018018018017, 0.009009009009009009, 0.01, 0.009009009009009009, 0.42342342342342343, 0.009009009009009009, 0.02702702702702703, 0.01, 0.10810810810810811, 0.01, 0.009009009009009009, 0.01, 0.009009009009009009, 0.009009009009009009, 0.07207207207207207, 0.018018018018018018, 0.01, 0.009009009009009009, 0.018018018018018018, 0.04504504504504504, 0.009009009009009009, 0.01, 0.009009009009009009, 0.01, 0.02702702702702703, 0.01],
    [0.034482758620689655, 0.005747126436781609, 0.10919540229885058, 0.017241379310344827, 0.022988505747126436, 0.011494252873563218, 0.005747126436781609, 0.01, 0.01, 0.01, 0.005747126436781609, 0.040229885057471264, 0.022988505747126436, 0.3275862068965517, 0.040229885057471264, 0.011494252873563218, 0.01, 0.05172413793103448, 0.06896551724137931, 0.14942528735632185, 0.011494252873563218, 0.04597701149425287, 0.005747126436781609, 0.011494252873563218, 0.01, 0.01],
    [0.01, 0.01, 0.01, 0.01, 0.5, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.5, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01],
    [0.125, 0.01, 0.08333333333333333, 0.01, 0.2916666666666667, 0.01, 0.01, 0.041666666666666664, 0.25, 0.01, 0.01, 0.01, 0.041666666666666664, 0.041666666666666664, 0.01, 0.01, 0.01, 0.01, 0.041666666666666664, 0.041666666666666664, 0.01, 0.01, 0.01, 0.01, 0.041666666666666664, 0.01],
    [0.16853932584269662, 0.01, 0.02247191011235955, 0.056179775280898875, 0.29213483146067415, 0.01, 0.01, 0.01, 0.0898876404494382, 0.01, 0.01, 0.10112359550561797, 0.01, 0.01, 0.10112359550561797, 0.01, 0.01, 0.033707865168539325, 0.01, 0.011235955056179775, 0.02247191011235955, 0.01, 0.011235955056179775, 0.01, 0.0898876404494382, 0.01],
    [0.21818181818181817, 0.03636363636363636, 0.01, 0.01, 0.2, 0.01, 0.01, 0.01, 0.12727272727272726, 0.01, 0.01, 0.01, 0.05454545454545454, 0.01818181818181818, 0.14545454545454545, 0.05454545454545454, 0.01, 0.01, 0.01818181818181818, 0.01818181818181818, 0.03636363636363636, 0.01, 0.01, 0.01, 0.07272727272727272, 0.01],
    [0.03723404255319149, 0.005319148936170213, 0.0425531914893617, 0.1276595744680851, 0.0851063829787234, 0.005319148936170213, 0.14893617021276595, 0.015957446808510637, 0.09574468085106383, 0.01, 0.005319148936170213, 0.010638297872340425, 0.010638297872340425, 0.005319148936170213, 0.05851063829787234, 0.005319148936170213, 0.005319148936170213, 0.01, 0.10638297872340426, 0.1702127659574468, 0.02127659574468085, 0.005319148936170213, 0.01, 0.01, 0.031914893617021274, 0.01],
    [0.010752688172043012, 0.016129032258064516, 0.026881720430107527, 0.010752688172043012, 0.01, 0.08602150537634409, 0.03225806451612903, 0.005376344086021506, 0.010752688172043012, 0.016129032258064516, 0.03225806451612903, 0.053763440860215055, 0.043010752688172046, 0.15053763440860216, 0.043010752688172046, 0.053763440860215055, 0.01, 0.11290322580645161, 0.043010752688172046, 0.053763440860215055, 0.11290322580645161, 0.010752688172043012, 0.07526881720430108, 0.01, 0.01, 0.01],
    [0.18867924528301888, 0.018867924528301886, 0.01, 0.01, 0.20754716981132076, 0.01, 0.01, 0.05660377358490566, 0.05660377358490566, 0.01, 0.018867924528301886, 0.1320754716981132, 0.01, 0.01, 0.05660377358490566, 0.03773584905660377, 0.01, 0.11320754716981132, 0.03773584905660377, 0.05660377358490566, 0.018867924528301886, 0.01, 0.01, 0.01, 0.01, 0.01],
    [0.09090909090909091, 0.01, 0.09090909090909091, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.09090909090909091, 0.01, 0.01, 0.01, 0.01, 0.01, 0.6363636363636364, 0.01, 0.09090909090909091, 0.01, 0.01, 0.01],
    [0.11764705882352941, 0.013071895424836602, 0.032679738562091505, 0.006535947712418301, 0.20915032679738563, 0.006535947712418301, 0.013071895424836602, 0.006535947712418301, 0.11764705882352941, 0.01, 0.026143790849673203, 0.0196078431372549, 0.032679738562091505, 0.0196078431372549, 0.11764705882352941, 0.01, 0.01, 0.006535947712418301, 0.11764705882352941, 0.0392156862745098, 0.0196078431372549, 0.026143790849673203, 0.013071895424836602, 0.01, 0.0392156862745098, 0.01],
    [0.05389221556886228, 0.017964071856287425, 0.04790419161676647, 0.01, 0.1377245508982036, 0.041916167664670656, 0.005988023952095809, 0.04790419161676647, 0.09580838323353294, 0.01, 0.005988023952095809, 0.011976047904191617, 0.023952095808383235, 0.005988023952095809, 0.059880239520958084, 0.059880239520958084, 0.005988023952095809, 0.011976047904191617, 0.08383233532934131, 0.20359281437125748, 0.05389221556886228, 0.005988023952095809, 0.011976047904191617, 0.01, 0.005988023952095809, 0.01],
    [0.0871559633027523, 0.013761467889908258, 0.009174311926605505, 0.009174311926605505, 0.11009174311926606, 0.009174311926605505, 0.01, 0.27522935779816515, 0.0871559633027523, 0.0045871559633027525, 0.01, 0.009174311926605505, 0.009174311926605505, 0.009174311926605505, 0.15137614678899083, 0.0045871559633027525, 0.01, 0.027522935779816515, 0.01834862385321101, 0.05963302752293578, 0.05045871559633028, 0.01, 0.009174311926605505, 0.01, 0.045871559633027525, 0.01],
    [0.023529411764705882, 0.011764705882352941, 0.023529411764705882, 0.08235294117647059, 0.09411764705882353, 0.01, 0.047058823529411764, 0.01, 0.01, 0.01, 0.01, 0.07058823529411765, 0.058823529411764705, 0.1411764705882353, 0.01, 0.03529411764705882, 0.01, 0.23529411764705882, 0.11764705882352941, 0.058823529411764705, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01],
    [0.037037037037037035, 0.01, 0.01, 0.01, 0.7407407407407407, 0.01, 0.01, 0.01, 0.18518518518518517, 0.01, 0.01, 0.01, 0.01, 0.01, 0.037037037037037035, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01],
    [0.05128205128205128, 0.01, 0.01, 0.02564102564102564, 0.1282051282051282, 0.01, 0.01, 0.15384615384615385, 0.20512820512820512, 0.02564102564102564, 0.01, 0.05128205128205128, 0.01, 0.05128205128205128, 0.10256410256410256, 0.01, 0.01, 0.05128205128205128, 0.05128205128205128, 0.05128205128205128, 0.02564102564102564, 0.01, 0.01, 0.01, 0.02564102564102564, 0.01],
    [0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.4, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.2, 0.01, 0.01, 0.01, 0.4, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01],
    [0.13559322033898305, 0.05084745762711865, 0.06779661016949153, 0.03389830508474576, 0.06779661016949153, 0.01, 0.01, 0.05084745762711865, 0.06779661016949153, 0.01, 0.01, 0.01694915254237288, 0.01694915254237288, 0.01, 0.1016949152542373, 0.1016949152542373, 0.01, 0.01694915254237288, 0.1016949152542373, 0.13559322033898305, 0.01, 0.01, 0.03389830508474576, 0.01, 0.01, 0.01],
    [0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01, 0.01],
];


countMatrix2 = [
    [0.018283645240867154, 0.03382243580209557, 0.05891590548919649, 0.02827836272905843, 0.007004713231409917, 0.02443700220019181, 0.02735725678648908, 0.01694609273628983, 0.05350722883533436, 0.004206520568459815, 0.01076811824620608, 0.07641178974577272, 0.044666458101475515, 0.18535564638968524, 0.004303964961047887, 0.018593415836252392, 0.002788961088915444, 0.0883379576681044, 0.0867439725514532, 0.12195832457188575, 0.01321653682628742, 0.02291276675402471, 0.017702056076683608, 0.010440910233199818, 0.01906012319022684, 0.003979834139386511],
[0.10507030744831092, 0.019160428375191812, 0.018880549720282195, 0.0108477106247728, 0.1748179984494079, 0.0111629762360503, 0.0221940556347294, 0.019276240232395794, 0.04391199585650911, 0.0302783666667739, 0.007254326055415974, 0.06123230250057102, 0.036406744110484515, 0.025883950085089546, 0.05908013215419705, 0.016525708623801268, 0.013176815752986177, 0.07886465775987699, 0.056911876827655875, 0.013244372669688498, 0.06380268233129269, 0.014341368317092864, 0.02617669672413294, 0.012382217732725536, 0.04640195078639468, 0.012713568324170256],
[0.0936561406559016, 0.01644100580270793, 0.0508769260861061, 0.0071414600221676484, 0.11927064090583096, 0.012370417056049377, 0.009451676700063026, 0.07531349835915936, 0.05329580770651772, 0.006519896550974725, 0.01735379131984439, 0.03615282637515485, 0.0354943168235064, 0.01640188642340208, 0.23824136657031708, 0.006813291895768587, 0.003996696585747506, 0.023643318192684677, 0.009397344228804902, 0.09125899202399322, 0.03929106991502401, 0.00807597852780736, 0.008484558711668441, 0.004735618194857975, 0.011777106469910677, 0.004544367896029383],
[0.08452742104197246, 0.031196955050244595, 0.02657441064646722, 0.02907985476775577, 0.15134970362683917, 0.03364811454890523, 0.023893585436688472, 0.022569875792607687, 0.13577628054292973, 0.00794016999438363, 0.005772960829469034, 0.017949419258931388, 0.031948588286631156, 0.015443975137642837, 0.06915234561766505, 0.023118985629190094, 0.01900379365997365, 0.03575895122109083, 0.04704806485759682, 0.07251172861029279, 0.033236804138993686, 0.010867363876089085, 0.028923264510175236, 0.01185492643389699, 0.025002244460358654, 0.005850212023208764],
[0.0708075896897442, 0.02300179046469807, 0.05900541057275281, 0.08454832883431737, 0.03566198220505326, 0.035359522960652874, 0.011730873958337414, 0.015119044354159403, 0.04366148071822317, 0.0028341841632026203, 0.005739673485059218, 0.03527097919221442, 0.039720891236125856, 0.09904051465085939, 0.022478363585787548, 0.03283485020039884, 0.004668528958905505, 0.12272558092156041, 0.09048389561238203, 0.07238100461916384, 0.008309793489290514, 0.02049670703374458, 0.020506893484980863, 0.018441394603531565, 0.023062125598943745, 0.0021085954059104923],
[0.08974197033505425, 0.014738409359051194, 0.016176237405566948, 0.015335040810128759, 0.07628013727898433, 0.047107009344538535, 0.00836090290226263, 0.01596123508085431, 0.08954309318469506, 0.011013494083404777, 0.016912620367707725, 0.013314018957829982, 0.024612391121479, 0.013631147386781119, 0.1705559691364163, 0.01754956475466891, 0.006028127679130531, 0.10086296558081534, 0.01933139652072488, 0.09278694075879695, 0.06815304940484669, 0.009051597870401974, 0.012940452418641777, 0.010739366119396167, 0.02609590716199619, 0.013176954975825677],
[0.07711279184478789, 0.030963017620968713, 0.019393492192074174, 0.031135457688019827, 0.14746031873340765, 0.042564624922802996, 0.01577626101811824, 0.06780503845814519, 0.06210649577722348, 0.010326352852479528, 0.00900698582783263, 0.033176666853810925, 0.02091337092259446, 0.05695334493627738, 0.07971543378702449, 0.018338800619180147, 0.015692046101651414, 0.0386305852535671, 0.027020957483497886, 0.05990888748085113, 0.034058918359653835, 0.026892629991738918, 0.016052967172223515, 0.011886333924174493, 0.03123571354095652, 0.015872506636937466],
[0.16820266577001225, 0.017097258984825902, 0.011881354576935616, 0.01319148150957787, 0.29744597007825907, 0.010876718900887565, 0.004670530755178487, 0.013935732020609383, 0.15035295516659525, 0.009263150988541002, 0.005468088465347245, 0.013337051168760342, 0.018440190347706456, 0.012693264225333631, 0.08384812368910421, 0.012295510508694199, 0.004627474940490713, 0.025532098109849737, 0.00845329161703288, 0.039730265572365545, 0.0228872409218865, 0.010927975823134914, 0.012318063554483033, 0.007178019391518824, 0.01828641958096441, 0.007059103331904974],
[0.050645745819008485, 0.011592710282721462, 0.052328761179663605, 0.04164720846668623, 0.034074781145204035, 0.017656817867822777, 0.03716792131617738, 0.015356087914145665, 0.004781864538957695, 0.0028682052822019415, 0.005420131558364895, 0.0917129191410456, 0.03372995710251893, 0.20942237405644382, 0.06419664561565364, 0.012554107116962717, 0.001769792272059319, 0.026622242977635536, 0.12005699872917497, 0.093158439796805, 0.0039826035128663895, 0.040601318323972464, 0.01453056545433993, 0.0038866921897354333, 0.002530232048311904, 0.007704876291520183],
[0.10287690366765792, 0.06614400288366225, 0.020241957285752905, 0.028081914030819142, 0.0973911868072452, 0.027214562494367846, 0.01573623501847346, 0.04177930972334865, 0.03026718933044967, 0.025930431648193204, 0.015533477516445886, 0.04942777327205551, 0.017876453095431198, 0.03271154366044877, 0.06909525096873029, 0.050633053978552764, 0.017166801838334685, 0.024792736775705145, 0.020726322429485446, 0.024454807605659188, 0.061559430476705417, 0.03345498783454988, 0.02579525998017482, 0.02661755429395332, 0.03351130936289087, 0.040979544020906554],
[0.09748313198953633, 0.040796457929446424, 0.02828407676743733, 0.030400514717709506, 0.12460740076022452, 0.0428367041135088, 0.02633695385318693, 0.027107337267086005, 0.1473040813389433, 0.010031915884290104, 0.010345148700930387, 0.015991805152256545, 0.0219432286684219, 0.05944650914724482, 0.055670783843959265, 0.016330435224300093, 0.00895676540555184, 0.018015119832716746, 0.03889166377420147, 0.036131828687046556, 0.025473447169475884, 0.014425641069055138, 0.025321063637056287, 0.013096518036284211, 0.03735936269820441, 0.027412104331925195],
[0.11453382856544991, 0.03408811966052724, 0.03240604741190247, 0.03900757737331139, 0.1275417198182718, 0.0184887103978624, 0.006822855257280596, 0.011319782859764269, 0.10298869631352539, 0.0053520480638060705, 0.005627698659573526, 0.14642881574870323, 0.028884963159398477, 0.016388132135225733, 0.05471362518762349, 0.019114457370735968, 0.0038128312334257536, 0.011933457543772107, 0.03706796296221776, 0.03506798710679549, 0.025591240347199028, 0.0115491563482131, 0.014032023758264487, 0.006100529973481206, 0.07956040772143595, 0.011577325022233131],
[0.14881039313535388, 0.02806119583070262, 0.013434053156519413, 0.015254020217362486, 0.1905707731265012, 0.022122710717359117, 0.008807741825314618, 0.011971338889101093, 0.08414988439838854, 0.00785057396368604, 0.0047049518832165335, 0.017604249286056133, 0.03885517331254227, 0.01647631908291635, 0.08699891925412807, 0.03668918782284755, 0.0040016806609401365, 0.04187946425562224, 0.029548625700181772, 0.027218618487719715, 0.0371520436432595, 0.017505386877812803, 0.009639084803724416, 0.01265214138223128, 0.08062229392243345, 0.007419174364078794],
[0.06438323996108558, 0.026353338477193688, 0.06576649110447627, 0.12103167947040602, 0.095586344168987, 0.02420521766356917, 0.07644782895546087, 0.010066311069363839, 0.038502912990483855, 0.007080635602223042, 0.02122513334898856, 0.012555492189159873, 0.019974951636530354, 0.014694667158688092, 0.052977288738300515, 0.01687521665716171, 0.0035794558690328423, 0.009574289644067228, 0.05469377257427846, 0.18306775358672436, 0.013344962930658526, 0.02016057790152862, 0.012490634819461683, 0.0038310577342413367, 0.025837834211144287, 0.005692911536784193],
[0.017366137611091324, 0.015376052092966512, 0.028836088626884564, 0.026639042928987604, 0.00854418763227751, 0.08533186064826465, 0.006551923585944572, 0.010720537312197253, 0.016082984496504006, 0.0033887006277429034, 0.0075398861283305614, 0.027551846248193183, 0.07751747996570997, 0.185821920568683, 0.026896109257546694, 0.024568351867162063, 0.0018310529589314756, 0.11526483822794159, 0.03541197602311854, 0.052102769889690224, 0.1558758718197573, 0.02140621817306446, 0.027249030827263408, 0.0036011071280353706, 0.015191966459379707, 0.0033320588943315786],
[0.13203843768581092, 0.030161307853128656, 0.016447263264901636, 0.018272605796341643, 0.12202942285929838, 0.017521370253629907, 0.008116540608277018, 0.03497880556745456, 0.028259243393922346, 0.009660569404573906, 0.00593635916091785, 0.09028892199297994, 0.016268245433446925, 0.03127697255273034, 0.09920145260183237, 0.04565274376794174, 0.007995064222647034, 0.12573445262101285, 0.017860225434597754, 0.039019493763146625, 0.025251104476085137, 0.01137722253834498, 0.01850596832663082, 0.018416459410903464, 0.015229302661611543, 0.014500444347831647],
[0.031836220656933235, 0.021263197973259918, 0.016796754872816202, 0.02584679367961691, 0.027281913102054564, 0.03845534289103343, 0.1026403268557705, 0.046948906819746075, 0.015595940662205104, 0.010983056804369793, 0.06415569581325875, 0.021541435412303953, 0.023020487061959083, 0.0326855770498045, 0.019769502247865625, 0.10766324483430229, 0.01271105774159064, 0.01626956814620645, 0.01681139894855536, 0.022903334456045806, 0.19423902060421455, 0.030532897916148022, 0.029302795554058604, 0.030986864264061973, 0.01534699137463939, 0.02441167425717926],
[0.09852397786965467, 0.018220917304145778, 0.030688211130418572, 0.029648271316435975, 0.2109772904308227, 0.018609729628963855, 0.01753383799042616, 0.010472633337993755, 0.09509923369351736, 0.004519277501481348, 0.009901398792285005, 0.015370070771832412, 0.037244758690022035, 0.029589683157901746, 0.09769841745394504, 0.019741546327920585, 0.0027443226077056744, 0.02723417287501415, 0.06836039706792897, 0.06228853336529051, 0.017166330450529625, 0.011536541035013082, 0.01705980652592193, 0.004500635814675002, 0.04079999467380377, 0.00447001018635029],
[0.08794817953273776, 0.03172374566333539, 0.03012092270693466, 0.022654887781684747, 0.11837144352085395, 0.03969506327768321, 0.004895443758309208, 0.031497334840898075, 0.11407101844834036, 0.003710928601899366, 0.008315075509389837, 0.01156627969743783, 0.030115400491753264, 0.014744314534332302, 0.0709024818215579, 0.04800185546430095, 0.0031794153906898213, 0.013833149029401654, 0.08139192955862315, 0.1446544266767171, 0.04265497061491247, 0.005653367791956065, 0.02049708219955353, 0.003136618223033988, 0.01247192298718708, 0.00419274187647633],
[0.07362355115288077, 0.012783811806812994, 0.012804972053360095, 0.01360200800663424, 0.10871127045112638, 0.015102370249902512, 0.0031589225202458215, 0.23106586177119326, 0.10368117755764404, 0.002731687066151969, 0.0026510766031153927, 0.012758621037114065, 0.024208329680671728, 0.010080338402723828, 0.12181349358693384, 0.016745816065060704, 0.0021039330852546333, 0.05803651049397084, 0.024100513186360306, 0.05474458070971467, 0.026590368863402547, 0.003915653242001679, 0.019360617959809638, 0.004750979165218197, 0.03747278137334031, 0.0034007539093555495],
[0.043578147317111814, 0.03678850280649513, 0.03040893977627259, 0.022351770689892192, 0.03284845858293548, 0.012265164277243041, 0.03070485084451155, 0.006111612062919547, 0.03170442445297227, 0.004506236267512926, 0.010200776824804338, 0.04862028551923073, 0.04682384903409501, 0.1358185203048583, 0.013481428667957492, 0.020166222800064307, 0.003371522171195038, 0.1836233028801234, 0.1409515288350191, 0.080585670914272, 0.006391213072279191, 0.006736054317156085, 0.016682860225125412, 0.0037186934244832623, 0.015291845203561185, 0.016268118727908606],
[0.07116060684708492, 0.04146473822051294, 0.02133402543472619, 0.052974069792133635, 0.3716773234551589, 0.017351296510393317, 0.008333529953047212, 0.015336337682561405, 0.09707193922091405, 0.015062643040841848, 0.012585234645966543, 0.018346978741476536, 0.008880919236486326, 0.017761838472972653, 0.03898261095250454, 0.021980511053960313, 0.00971144090791119, 0.015364650921359978, 0.0212066158601326, 0.016950192294080173, 0.016440553995705827, 0.013113748436873275, 0.01323172026520067, 0.014208527003751505, 0.025760328433570064, 0.023707618620673384],
[0.11672594777478962, 0.02186960259312129, 0.024704843174523056, 0.02507945771587656, 0.11508158710379583, 0.02672381838687035, 0.011920629036964597, 0.0978414315796115, 0.21153102991395695, 0.011530241251764632, 0.013139112124103883, 0.02379788165335142, 0.014475894540091643, 0.036566322547063414, 0.051349795342161095, 0.01642783346609147, 0.010469490603089979, 0.022646434852559603, 0.019578538924422503, 0.02122684290637791, 0.017827708857465083, 0.016534302862055095, 0.03048179373329022, 0.01697201037879445, 0.012650141564863522, 0.012847307112944312],
[0.04044378558248829, 0.028497531896103077, 0.023955589900487313, 0.022402182655459003, 0.038362062167831064, 0.026707565172136447, 0.0173161538582851, 0.03503445883076535, 0.03469539024428709, 0.05499219353719503, 0.01732403917424971, 0.02603731331514454, 0.051183585926288064, 0.06759292844864294, 0.033985711807472126, 0.09250264158084814, 0.02729896386948225, 0.04411045750603226, 0.05765743033323345, 0.11032345566086833, 0.01470611427399896, 0.03326026273872794, 0.023222255515778518, 0.03449037202920721, 0.015581384346070747, 0.02831616962891703],
[0.07443507898948093, 0.04100446236383556, 0.046986939495334265, 0.023321269413360966, 0.03694884759379723, 0.0425067618320928, 0.01042405816808534, 0.022282129464961685, 0.04973620690167064, 0.007469931743350247, 0.005682611032103486, 0.02851103121279508, 0.04111431430123776, 0.02393584646855711, 0.2422769634549325, 0.04446925184892687, 0.005459938186017927, 0.01659358049029592, 0.04016127451999157, 0.06867527470406778, 0.012110433855773314, 0.009761977572390942, 0.05544256970402325, 0.021507227960583936, 0.01552475082908523, 0.01365726789324767],
[0.06214000668383495, 0.027236627415518293, 0.03761622992392223, 0.03970984292987871, 0.05620318858243724, 0.031531974286893784, 0.03816666339027699, 0.03821580923548723, 0.045705636045528714, 0.01917670880103796, 0.011116790186557628, 0.03710511313373568, 0.03588629617252158, 0.03220035778175313, 0.01891132123690263, 0.03353712477147182, 0.021506221864003618, 0.01989423814110755, 0.052920246122392815, 0.019825433957813207, 0.025182331085730012, 0.03472645422555977, 0.09840964044899644, 0.09293479329257505, 0.033173445516916, 0.03696750476714698]

];

//take the raw text from the website and convert to string
function setRawText() {
    rawText = document.getElementById("og").value;
    rawText = rawText.toLowerCase();
    //document.getElementById("demo").innerHTML = rawText;
}
//remove punctuation and unessecary chars from string
function makeCleanText() {
    setRawText();
    for (var i = 0; i < rawText.length; i++) {
        var charCode = rawText.charCodeAt(i);
        if (charCode < 123 && charCode > 96) {
            cleanString += rawText.charAt(i);
        }
    }
    //document.getElementById("demo").innerHTML = cleanString;
}

//store counts of frequencies in array
//


function makeProbArray() {
    

    var totalSum = 0;
    makeCleanText();
    
    probability();


    var normalizedV = [0, 0];
    normalizedV[0] = probOne / (probOne + probTwo);
    normalizedV[1] = probTwo / (probOne + probTwo);
    document.getElementById('demo').innerHTML = 'Likelihood it is a normal email:' + normalizedV[0] + '<br>Likelihood it is a phishing email:' + normalizedV[1];


}


function probability() {
    var cumSum = [1, 1];
    console.log('cleanString is ' + cleanString + ' and the length is ' + cleanString.length);
    for (var k = 0; k < cleanString.length - 1; k++) {
        var charOne = cleanString.charCodeAt(k) - 97;
        var charTwo = cleanString.charCodeAt(k+1) - 97;
        cumSum[0] = cumSum[0] * countMatrix[charOne][charTwo];
        cumSum[1] = cumSum[1] * countMatrix2[charOne][charTwo];
        console.log('Cycle!');
        if (k % 3 == 0) {
            var temp1 = cumSum[0];
            cumSum[0] = cumSum[0] / (cumSum[0] + cumSum[1]);
            cumSum[1] = cumSum[1] / (temp1 + cumSum[1]);

        }
    }
    
    probOne = cumSum[0];
    probTwo = cumSum[1];
    console.log('probOne is ' + probOne + ' and probTwo is ' + probTwo);
}
